<header onabort="checkLogin()"
  class="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
  <div class="container flex h-16 items-center justify-between px-4">
    <!-- Logo -->
    <a routerLink="/" class="flex items-center space-x-2">
      <!-- MapPin icon -->
      <svg class="h-8 w-8 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0Z"></path>
        <circle cx="12" cy="10" r="3"></circle>
      </svg>
      <span class="text-2xl font-bold text-primary">YayooTrip</span>
    </a>

    <!-- Navigation -->
    <nav class="hidden md:flex items-center space-x-6">
      <a routerLink="/" routerLinkActive="text-primary" [routerLinkActiveOptions]="{ exact: true }"
        class="text-sm font-medium hover:text-primary transition-colors">
        Trang ch·ªß
      </a>
      <!-- <a routerLink="/schedule" routerLinkActive="text-primary" class="text-sm font-medium hover:text-primary transition-colors">
        L·ªãch tr√¨nh m·∫´u
      </a> -->
      <a routerLink="/discovery" routerLinkActive="text-primary" [routerLinkActiveOptions]="{ exact: true }"
        class="text-sm font-medium hover:text-primary transition-colors">
        Kh√°m ph√°
      </a>
      <a routerLink="/social" routerLinkActive="text-primary" [routerLinkActiveOptions]="{ exact: true }"
        class="text-sm font-medium hover:text-primary transition-colors">
        C·ªông ƒë·ªìng
      </a>
      <a routerLink="/create-itinerary"
        class="inline-flex items-center h-10 rounded-md px-4 font-medium bg-primary text-primary-foreground hover:bg-primary/90 transition-colors">
        <span routerLink="/create-itinerary" class="mr-2" aria-hidden="true">Ôºã</span>
        T·∫°o l·ªãch tr√¨nh
      </a>

    </nav>



    <!-- Actions -->
    <div class="flex items-center space-x-4">


      <!-- Create Itinerary Button -->
      @if(!login) {
      <ng-container *ngIf="true">

        <!-- Auth buttons -->
        <a routerLink="/auth/login" class="text-sm font-medium hover:text-primary transition-colors">
          ƒêƒÉng nh·∫≠p
        </a>
        <a routerLink="/auth/register"
          class="inline-flex items-center h-10 rounded-md px-4 font-medium bg-primary-700 text-white hover:bg-primary-800 transition-colors">
          ƒêƒÉng k√Ω
        </a>

      </ng-container>
      }



      <!-- User Menu (·∫©n t·∫°m) -->
      @if(login) {
      <ng-container *ngIf="true">
        <div class="relative">
          <!-- gi·ªØ nguy√™n block menu c≈© ·ªü ƒë√¢y n·∫øu mu·ªën b·∫≠t l·∫°i sau -->
          <div class="relative">

            <!-- Username + Avatar -->
            <button type="button" (click)="toggleMenu()"
              class="relative flex items-center gap-2 rounded-full hover:ring-2 hover:ring-primary focus:outline-none focus:ring-2 focus:ring-primary px-2 py-1"
              aria-haspopup="menu" [attr.aria-expanded]="menuOpen">
              <!-- <span class="text-sm font-medium">{{ fullName() }}</span> -->
                             <span class="text-sm font-medium">user@gmail.com</span>

              <img src="assets/images/avatar.jpg" alt="User" class="h-10 w-10 rounded-full object-cover" />
              <span class="sr-only">M·ªü menu ng∆∞·ªùi d√πng</span>
            </button>

            <!-- Dropdown -->
            <div *ngIf="menuOpen" class="absolute right-0 mt-2 w-56 rounded-md border bg-background shadow-md p-1"
              role="menu" tabindex="-1">
              <a routerLink="/profile" (click)="closeMenu()"
                class="flex items-center gap-2 rounded-sm px-2 py-2 text-sm hover:bg-muted" role="menuitem">
                <span aria-hidden="true">üë§</span>
                <span>Trang c√° nh√¢n</span>
              </a>
              <a routerLink="/itinerary-journal" (click)="closeMenu()"
                class="flex items-center gap-2 rounded-sm px-2 py-2 text-sm hover:bg-muted" role="menuitem">
                <span aria-hidden="true">üìÖ</span>
                <span>Nh·∫≠t k√Ω l·ªãch tr√¨nh</span>
              </a>
              <a routerLink="/settings" (click)="closeMenu()"
                class="flex items-center gap-2 rounded-sm px-2 py-2 text-sm hover:bg-muted" role="menuitem">
                <span aria-hidden="true">‚öôÔ∏è</span>
                <span>C√†i ƒë·∫∑t</span>
              </a>
              <button type="button" (click)="logout()"
                class="w-full text-left flex items-center gap-2 rounded-sm px-2 py-2 text-sm hover:bg-muted"
                role="menuitem">
                <span aria-hidden="true">üö™</span>
                <span>ƒêƒÉng xu·∫•t</span>
              </button>
            </div>
          </div>
        </div>
      </ng-container>
      }
      <!-- User Menu -->

    </div>
  </div>
</header>
<router-outlet></router-outlet>