<div class="space-y-6">
    <!-- Header gi·ªëng Dashboard, gi·ªØ actions c≈© -->
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-2xl font-bold text-gray-900">Qu·∫£n l√Ω ƒëi·ªÉm ƒë·∫øn</h1>
            <p class="text-gray-500">Qu·∫£n l√Ω danh s√°ch ƒëi·ªÉm ƒë·∫øn v√† tr·∫°ng th√°i hi·ªÉn th·ªã</p>
        </div>
        <div class="flex items-center gap-2">
            <button
                class="inline-flex items-center gap-2 rounded-md bg-primary-600 px-3 py-2 text-white hover:bg-primary-700"
                (click)="openCreate()">
                <i class="fa-solid fa-plus"></i>
                <span>Th√™m ƒëi·ªÉm ƒë·∫øn</span>
            </button>
            <button class="inline-flex items-center gap-2 rounded-md border px-3 py-2 hover:bg-gray-50"
                (click)="q = ''">
                <i class="fa-solid fa-arrow-rotate-right"></i>
                <span>Refresh</span>
            </button>
        </div>
    </div>

    <!-- Thanh t√¨m ki·∫øm ƒë∆∞a v√†o header c·ªßa ‚Äúdanh s√°ch‚Äù gi·ªëng dashboard -->
    <div class="rounded-xl border bg-white overflow-hidden">
        <div class="flex items-center justify-between px-4 py-3 border-b">
            <div class="font-semibold">Danh s√°ch ƒëi·ªÉm ƒë·∫øn</div>
            <div class="relative">
                <input type="text"
                    class="h-9 pl-3 pr-10 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                    placeholder="T√¨m ki·∫øm ƒëi·ªÉm ƒë·∫øn..." [(ngModel)]="q" />
                <i class="fa-solid fa-search absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
        </div>

        <!-- Gi·ªØ NGUY√äN ph·∫ßn GRID CARDS b·∫°n ƒëang d√πng (n·ªôi dung kh√¥ng ƒë·ªïi) -->
        <div class="p-4">
            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                <div *ngFor="let d of filtered; trackBy: trackById"
                    class="rounded-2xl border border-gray-200 overflow-hidden bg-white shadow-sm hover:shadow-md transition">
                    <div class="relative">
                        <img [src]="d.imageUrl" [alt]="d.name" class="w-full h-64 object-cover" />
                        <span *ngIf="d.featured"
                            class="absolute top-3 right-3 bg-amber-500 text-white text-xs font-semibold px-2 py-1 rounded-lg shadow">
                            N·ªïi b·∫≠t
                        </span>
                    </div>

                    <div class="p-4">
                        <div class="text-lg font-semibold text-gray-900">{{ d.name }}</div>

                        <div class="mt-1 text-sm text-gray-600 flex items-center gap-1">
                            <span>üìç</span><span>{{ d.province }}</span>
                        </div>

                        <div class="mt-2 flex items-center justify-between">
                            <div class="text-sm text-gray-700 flex items-center gap-2">
                                <span class="inline-flex items-center gap-1 text-amber-600 font-medium">
                                    ‚≠ê {{ d.rating | number:'1.1-1' }}
                                </span>
                                <span class="text-gray-500">({{ d.reviews | number }})</span>
                            </div>
                            <div class="text-sm text-gray-600">{{ d.itineraries | number }} l·ªãch tr√¨nh</div>
                        </div>

                        <div class="mt-3 flex items-center justify-between">
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold"
                                [class]="d.status === 'active'
                  ? 'bg-teal-50 text-teal-700 ring-1 ring-teal-200'
                  : 'bg-gray-100 text-gray-700 ring-1 ring-gray-200'">
                                {{ d.status === 'active' ? 'Ho·∫°t ƒë·ªông' : 'Ng·ª´ng ho·∫°t ƒë·ªông' }}
                            </span>

                            <div class="flex items-center gap-2">
                                <button class="h-9 w-9 grid place-items-center rounded-lg border hover:bg-gray-50"
                                    title="N·ªïi b·∫≠t / B·ªè n·ªïi b·∫≠t" (click)="toggleFeatured(d, $event)">üè∑Ô∏è</button>
                                <button class="h-9 w-9 grid place-items-center rounded-lg border hover:bg-gray-50"
                                    title="Sao ch√©p" (click)="duplicate(d, $event)">üìÑ</button>
                                <button class="h-9 w-9 grid place-items-center rounded-lg border hover:bg-gray-50"
                                    title="S·ª≠a" (click)="openEdit(d)">‚úèÔ∏è</button>
                                <button
                                    class="h-9 w-9 grid place-items-center rounded-lg border hover:bg-red-50 text-red-600"
                                    title="Xo√°" (click)="remove(d, $event)">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div *ngIf="filtered.length === 0" class="col-span-full text-center text-gray-500 py-16">
                    Kh√¥ng t√¨m th·∫•y ƒëi·ªÉm ƒë·∫øn ph√π h·ª£p.
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal form GI·ªÆ NGUY√äN nh∆∞ b·∫°n ƒë√£ c√≥ -->
<!-- (ƒë·∫∑t ngay sau wrapper, kh√¥ng ƒë·ªïi n·ªôi dung, ch·ªâ gi·ªØ l·∫°i ƒë·ªÉ ti·∫øp t·ª•c d√πng) -->
<div *ngIf="showForm" class="fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4"
    (click)="showForm=false">
    <div class="bg-white rounded-2xl shadow-2xl w-[880px] max-w-[95vw] p-6" (click)="$event.stopPropagation()">
        <div class="flex items-center justify-between mb-4">
            <h2 class="text-xl font-semibold text-gray-900">
                {{ isEditing ? 'S·ª≠a ƒëi·ªÉm ƒë·∫øn' : 'Th√™m ƒëi·ªÉm ƒë·∫øn' }}
            </h2>
            <button class="h-9 w-9 grid place-items-center rounded-lg hover:bg-gray-100"
                (click)="showForm=false">‚úñ</button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <label class="text-sm font-medium text-gray-700">
                T√™n ƒëi·ªÉm ƒë·∫øn
                <input class="mt-1 w-full rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                    [(ngModel)]="form.name" placeholder="VD: H·ªôi An" />
            </label>

            <label class="text-sm font-medium text-gray-700">
                T·ªânh/Th√†nh
                <select class="mt-1 w-full rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                    [(ngModel)]="form.province">
                    <option value="" disabled>Ch·ªçn t·ªânh/th√†nh</option>
                    <option *ngFor="let p of provinces" [ngValue]="p">{{ p }}</option>
                </select>
            </label>

            <label class="text-sm font-medium text-gray-700 md:col-span-2">
                ·∫¢nh (URL)
                <input class="mt-1 w-full rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                    [(ngModel)]="form.imageUrl" placeholder="https://..." />
            </label>

            <div class="grid grid-cols-3 gap-3 md:col-span-2">
                <label class="text-sm font-medium text-gray-700">
                    ƒê√°nh gi√° (‚≠ê)
                    <input type="number" step="0.1" min="0" max="5"
                        class="mt-1 w-full rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                        [(ngModel)]="form.rating" />
                </label>

                <label class="text-sm font-medium text-gray-700">
                    S·ªë l∆∞·ª£t ƒë√°nh gi√°
                    <input type="number" min="0"
                        class="mt-1 w-full rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                        [(ngModel)]="form.reviews" />
                </label>

                <label class="text-sm font-medium text-gray-700">
                    S·ªë l·ªãch tr√¨nh
                    <input type="number" min="0"
                        class="mt-1 w-full rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                        [(ngModel)]="form.itineraries" />
                </label>
            </div>

            <label class="text-sm font-medium text-gray-700 md:col-span-2">
                M√¥ t·∫£
                <textarea rows="3"
                    class="mt-1 w-full rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                    [(ngModel)]="form.description" placeholder="M√¥ t·∫£ ng·∫Øn v·ªÅ ƒëi·ªÉm ƒë·∫øn..."></textarea>
            </label>

            <label class="text-sm font-medium text-gray-700 md:col-span-2">
                Th·∫ª (tags) ‚Äî c√°ch nhau b·ªüi d·∫•u ph·∫©y
                <input class="mt-1 w-full rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                    [(ngModel)]="tagsInput" placeholder="Bi·ªÉn, Ngh·ªâ d∆∞·ª°ng, ·∫®m th·ª±c..." />
            </label>

            <div class="flex items-center gap-4 md:col-span-2">
                <label class="inline-flex items-center gap-2">
                    <input type="checkbox" class="h-4 w-4" [(ngModel)]="form.featured" />
                    <span class="text-sm text-gray-700">ƒê√°nh d·∫•u N·ªïi b·∫≠t</span>
                </label>

                <label class="text-sm font-medium text-gray-700">
                    Tr·∫°ng th√°i
                    <select class="ml-2 rounded-xl border-2 border-gray-200 px-3 py-2 focus:border-teal-500"
                        [(ngModel)]="form.status">
                        <option [ngValue]="'active'">Ho·∫°t ƒë·ªông</option>
                        <option [ngValue]="'inactive'">Ng·ª´ng ho·∫°t ƒë·ªông</option>
                    </select>
                </label>
            </div>
        </div>

        <div class="mt-6 flex justify-end gap-3">
            <button class="px-4 py-2 rounded-xl border hover:bg-gray-50" (click)="showForm=false">H·ªßy</button>
            <button class="px-4 py-2 rounded-xl text-white bg-teal-600 hover:bg-teal-700" (click)="save()">L∆∞u</button>
        </div>
    </div>
</div>