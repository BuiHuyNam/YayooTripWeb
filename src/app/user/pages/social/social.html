<div class="container mx-auto px-4 py-6 space-y-6">
  <!-- Composer -->
  <div class="rounded-2xl border bg-background p-4 flex items-center gap-3">
    <div class="flex -space-x-2">
      <img
            [src]="currentUser.avatarUrl || '/assets/images/avatar.jpg'"
            alt="{{ currentUser.name || 'Báº¡n' }}"
            class="h-9 w-9 rounded-full border object-cover"
        
        />
    </div>
    <button type="button"
        (click)="openComposer()"  
        class="flex-1 text-left px-4 py-3 rounded-xl border bg-white text-muted-foreground hover:bg-muted/50">
      Chia sáº» tráº£i nghiá»‡m du lá»‹ch cá»§a báº¡n...
    </button>
  </div>

  <!-- Feed -->
<!-- composer cá»§a báº¡n Ä‘áº·t phÃ­a trÃªn -->

<!-- feed -->
<div class="mt-6 space-y-6">
  <app-post-card
    *ngFor="let post of posts"
    [post]="post"
    (save)="onSave($event)"
    (like)="onLike($event)">
  </app-post-card>
</div>

</div>


<!-- Modal: chá»‰ render khi má»Ÿ -->
<ng-container *ngIf="isComposerOpen">
  <!-- overlay -->
  <div class="fixed inset-0 z-[100] bg-black/50" (click)="closeComposer()"></div>

  <!-- dialog -->
  <div class="fixed inset-0 z-[101] flex items-start md:items-center justify-center p-4 md:p-6">
    <div class="w-full max-w-lg rounded-2xl bg-white shadow-xl"
         role="dialog" aria-modal="true" tabindex="-1"
         (click)="$event.stopPropagation()">
      <!-- header -->
      <div class="flex items-center justify-between px-5 py-4 border-b">
        <h3 class="text-base md:text-lg font-semibold">Táº¡o bÃ i viáº¿t má»›i</h3>
        <button class="p-2 rounded-lg hover:bg-gray-100" (click)="closeComposer()" aria-label="ÄÃ³ng">âœ•</button>
      </div>

      <!-- body (demo theo áº£nh) -->
      <div class="p-5 space-y-4">
        <div class="text-sm text-gray-600 flex items-center gap-2">
          <img class="h-8 w-8 rounded-full border" [src]="currentUser.avatarUrl || '/assets/images/avatar.jpg'">
          <div class="font-medium">{{ currentUser.name || 'Nguyá»…n VÄƒn A' }}</div>
         <div class="relative ml-auto" (keydown.escape)="isPrivacyOpen=false">
    <button type="button"
            (click)="togglePrivacy()"
            class="text-xs px-2 py-1 border rounded-md flex items-center gap-1">
      {{ privacyLabel[selectedPrivacy] }} â–¾
    </button>

    <!-- Menu -->
    <div *ngIf="isPrivacyOpen"
         class="absolute right-0 mt-2 w-44 bg-white border rounded-xl shadow-lg z-[102]">
      <button type="button"
              (click)="selectPrivacy('public')"
              class="w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2"
              [class.bg-gray-100]="selectedPrivacy==='public'">
        ğŸŒ <span>CÃ´ng khai</span>
      </button>
      <button type="button"
              (click)="selectPrivacy('friends')"
              class="w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2"
              [class.bg-gray-100]="selectedPrivacy==='friends'">
        ğŸ‘¥ <span>Báº¡n bÃ¨</span>
      </button>
      <button type="button"
              (click)="selectPrivacy('private')"
              class="w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2"
              [class.bg-gray-100]="selectedPrivacy==='private'">
        ğŸ”’ <span>RiÃªng tÆ°</span>
      </button>
    </div>
  </div>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">TiÃªu Ä‘á» bÃ i viáº¿t *</label>
          <input type="text" class="w-full rounded-lg border px-3 py-2" placeholder="VD: Tráº£i nghiá»‡m tuyá»‡t vá»i táº¡i Sapa...">
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">Ná»™i dung *</label>
          <textarea rows="4" class="w-full rounded-lg border px-3 py-2" placeholder="Chia sáº» tráº£i nghiá»‡m du lá»‹ch cá»§a báº¡n..."></textarea>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">Äá»‹a Ä‘iá»ƒm</label>
          <div class="flex gap-2">
            <input class="flex-1 rounded-lg border px-3 py-2" placeholder="Chá»n Ä‘á»‹a Ä‘iá»ƒm">
            <button class="px-3 py-2 rounded-lg border">+</button>
          </div>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">HÃ¬nh áº£nh</label>
          <label class="inline-flex items-center gap-2 rounded-lg border px-4 py-2 cursor-pointer">
            â¬†ï¸ <span>ThÃªm hÃ¬nh áº£nh</span>
            <input type="file" multiple class="hidden">
          </label>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">Lá»‹ch trÃ¬nh (báº¯t buá»™c) *</label>
          <select class="w-full rounded-lg border px-3 py-2">
            <option>Chá»n lá»‹ch trÃ¬nh Ä‘á»ƒ chia sáº»</option>
          </select>
        </div>
      </div>

      <!-- footer -->
      <div class="px-5 py-4 border-t flex justify-end gap-3">
        <button class="px-4 py-2 rounded-lg border" (click)="closeComposer()">Há»§y</button>
        <button class="px-4 py-2 rounded-lg bg-primary-600 text-white hover:bg-primary-700">ÄÄƒng bÃ i</button>
      </div>
    </div>
  </div>
</ng-container>
