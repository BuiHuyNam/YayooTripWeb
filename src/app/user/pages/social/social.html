<div class="container mx-auto px-4 py-6 space-y-6">
  <!-- Composer -->
  <div class="rounded-2xl border bg-background p-4 flex items-center gap-3">
    <div class="flex -space-x-2">
      <img [src]="currentUser.avatarUrl || '/assets/images/avatar.jpg'" alt="{{ currentUser.name || 'B·∫°n' }}"
        class="h-9 w-9 rounded-full border object-cover" />
    </div>
    <button type="button" (click)="openComposer()"
      class="flex-1 text-left px-4 py-3 rounded-xl border bg-white text-muted-foreground hover:bg-muted/50">
      Chia s·∫ª tr·∫£i nghi·ªám du l·ªãch c·ªßa b·∫°n...
    </button>
  </div>

  <!-- Feed -->
  <!-- composer c·ªßa b·∫°n ƒë·∫∑t ph√≠a tr√™n -->

  <!-- feed -->
  <div class="mt-6 space-y-6">
    <app-post-card *ngFor="let post of posts" [post]="post" (save)="onSave($event)" (like)="onLike($event)">
    </app-post-card>
  </div>

</div>


<!-- Modal: ch·ªâ render khi m·ªü -->
<ng-container *ngIf="isComposerOpen">
  <!-- overlay -->
  <div class="fixed inset-0 z-[100] bg-black/50" (click)="closeComposer()"></div>

  <!-- dialog -->
  <div class="fixed inset-0 z-[101] flex items-start md:items-center justify-center p-4 md:p-6">
    <div class="w-full max-w-lg rounded-2xl bg-white shadow-xl" role="dialog" aria-modal="true" tabindex="-1"
      (click)="$event.stopPropagation()">
      <!-- header -->
      <div class="flex items-center justify-between px-5 py-4 border-b">
        <h3 class="text-base md:text-lg font-semibold">T·∫°o b√†i vi·∫øt m·ªõi</h3>
        <button class="p-2 rounded-lg hover:bg-gray-100" (click)="closeComposer()" aria-label="ƒê√≥ng">‚úï</button>
      </div>

      <!-- body (demo theo ·∫£nh) -->
      <div class="p-5 space-y-4">
        <div class="text-sm text-gray-600 flex items-center gap-2">
          <img class="h-8 w-8 rounded-full border" [src]="currentUser.avatarUrl || '/assets/images/avatar.jpg'">
          <div class="font-medium">{{ currentUser.name || 'Nguy·ªÖn VƒÉn A' }}</div>
          <div class="relative ml-auto" (keydown.escape)="isPrivacyOpen=false">
            <button type="button" (click)="togglePrivacy()"
              class="text-xs px-2 py-1 border rounded-md flex items-center gap-1">
              {{ privacyLabel[selectedPrivacy] }} ‚ñæ
            </button>

            <!-- Menu -->
            <div *ngIf="isPrivacyOpen" class="absolute right-0 mt-2 w-44 bg-white border rounded-xl shadow-lg z-[102]">
              <button type="button" (click)="selectPrivacy('public')"
                class="w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2"
                [class.bg-gray-100]="selectedPrivacy==='public'">
                üåê <span>C√¥ng khai</span>
              </button>
              <button type="button" (click)="selectPrivacy('friends')"
                class="w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2"
                [class.bg-gray-100]="selectedPrivacy==='friends'">
                üë• <span>B·∫°n b√®</span>
              </button>
              <button type="button" (click)="selectPrivacy('private')"
                class="w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2"
                [class.bg-gray-100]="selectedPrivacy==='private'">
                üîí <span>Ri√™ng t∆∞</span>
              </button>
            </div>
          </div>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">Ti√™u ƒë·ªÅ b√†i vi·∫øt *</label>
          <input type="text" class="w-full rounded-lg border px-3 py-2"
            placeholder="VD: Tr·∫£i nghi·ªám tuy·ªát v·ªùi t·∫°i Sapa...">
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">N·ªôi dung *</label>
          <textarea rows="4" class="w-full rounded-lg border px-3 py-2"
            placeholder="Chia s·∫ª tr·∫£i nghi·ªám du l·ªãch c·ªßa b·∫°n..."></textarea>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">ƒê·ªãa ƒëi·ªÉm</label>
          <div class="flex gap-2">
            <input class="flex-1 rounded-lg border px-3 py-2" placeholder="Ch·ªçn ƒë·ªãa ƒëi·ªÉm">
            <button class="px-3 py-2 rounded-lg border">+</button>
          </div>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">H√¨nh ·∫£nh</label>
          <label class="inline-flex items-center gap-2 rounded-lg border px-4 py-2 cursor-pointer">
            ‚¨ÜÔ∏è <span>Th√™m h√¨nh ·∫£nh</span>
            <input type="file" multiple class="hidden">
          </label>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-medium">L·ªãch tr√¨nh (b·∫Øt bu·ªôc) *</label>
          <select class="w-full rounded-lg border px-3 py-2">
            <option>Ch·ªçn l·ªãch tr√¨nh ƒë·ªÉ chia s·∫ª</option>
          </select>
        </div>
      </div>

      <!-- footer -->
      <div class="px-5 py-4 border-t flex justify-end gap-3">
        <button class="px-4 py-2 rounded-lg border" (click)="closeComposer()">H·ªßy</button>
        <button class="px-4 py-2 rounded-lg bg-primary-600 text-white hover:bg-primary-700">ƒêƒÉng b√†i</button>
      </div>
    </div>
  </div>
</ng-container>


<footer class="bg-gray-50 border-t">
  <div class="container mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      <!-- Brand -->
      <div class="space-y-4">
        <a routerLink="/" class="flex items-center space-x-2">
          <!-- MapPin -->
          <svg class="h-6 w-6 text-primary-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M21 10c0 6-9 13-9 13S3 16 3 10a9 9 0 1 1 18 0Z" />
            <circle cx="12" cy="10" r="3" />
          </svg>
          <span class="font-serif font-bold text-xl text-primary-600">YayooTrip</span>
        </a>
        <p class="text-sm text-gray-500">
          N·ªÅn t·∫£ng du l·ªãch t·ª± t√∫c h√†ng ƒë·∫ßu Vi·ªát Nam, k·∫øt n·ªëi c·ªông ƒë·ªìng y√™u th√≠ch kh√°m ph√° v√† tr·∫£i nghi·ªám.
        </p>
        <div class="flex space-x-4">
          <a href="#" class="text-gray-500 hover:text-primary-600" aria-label="Facebook">
            <!-- Facebook -->
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path
                d="M22 12.07C22 6.48 17.52 2 11.93 2S1.86 6.48 1.86 12.07c0 4.98 3.64 9.12 8.4 9.93v-7.03H7.9v-2.9h2.36V9.41c0-2.34 1.39-3.63 3.52-3.63 1.02 0 2.1.18 2.1.18v2.3h-1.18c-1.16 0-1.52.72-1.52 1.45v1.75h2.59l-.41 2.9h-2.18V22c4.76-.81 8.4-4.95 8.4-9.93Z" />
            </svg>
          </a>
          <a href="#" class="text-gray-500 hover:text-primary-600" aria-label="Instagram">
            <!-- Instagram -->
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path
                d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5.4A4.6 4.6 0 1 0 16.6 12 4.6 4.6 0 0 0 12 7.4Zm6.1-.9a1.1 1.1 0 1 0 1.1 1.1 1.1 1.1 0 0 0-1.1-1.1Z" />
            </svg>
          </a>
          <a href="#" class="text-gray-500 hover:text-primary-600" aria-label="YouTube">
            <!-- YouTube -->
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path
                d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.6 3.6 12 3.6 12 3.6s-7.6 0-9.4.5A3 3 0 0 0 .5 6.2 31.1 31.1 0 0 0 0 12a31.1 31.1 0 0 0 .5 5.8 3 3 0 0 0 2.1 2.1c1.8.5 9.4.5 9.4.5s7.6 0 9.4-.5a3 3 0 0 0 2.1-2.1A31.1 31.1 0 0 0 24 12a31.1 31.1 0 0 0-.5-5.8ZM9.6 15.5V8.5l6.2 3.5-6.2 3.5Z" />
            </svg>
          </a>
        </div>
      </div>

      <!-- Links -->
      <div>
        <h3 class="font-semibold text-gray-900 mb-4">Li√™n k·∫øt h·ªØu √≠ch</h3>
        <ul class="space-y-2 text-sm">
          <li><a routerLink="/about" class="text-gray-500 hover:text-primary-600">Gi·ªõi thi·ªáu v·ªÅ ch√∫ng t√¥i</a>
          </li>
          <li><a routerLink="/destinations" class="text-gray-500 hover:text-primary-600">L·ªãch tr√¨nh ph·ªï
              bi·∫øn</a></li>
          <li><a routerLink="/blog" class="text-gray-500 hover:text-primary-600">Blog du l·ªãch</a></li>
          <li><a routerLink="/community" class="text-gray-500 hover:text-primary-600">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</a>
          </li>
        </ul>
      </div>

      <!-- Support -->
      <div>
        <h3 class="font-semibold text-gray-900 mb-4">H·ªó tr·ª£</h3>
        <ul class="space-y-2 text-sm">
          <li><a routerLink="/help" class="text-gray-500 hover:text-primary-600">Trung t√¢m tr·ª£ gi√∫p</a></li>
          <li><a routerLink="/safety" class="text-gray-500 hover:text-primary-600">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
          <li><a routerLink="/terms" class="text-gray-500 hover:text-primary-600">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
          <li><a routerLink="/contact" class="text-gray-500 hover:text-primary-600">Li√™n h·ªá</a></li>
        </ul>
      </div>

      <!-- Contact -->
      <div>
        <h3 class="font-semibold text-gray-900 mb-4">Nh·∫≠n th√¥ng tin m·ªõi nh·∫•t</h3>
        <p class="text-sm text-gray-500 mb-4">
          ƒêƒÉng k√Ω nh·∫≠n th√¥ng tin v·ªÅ c√°c ƒëi·ªÉm ƒë·∫øn m·ªõi v√† ∆∞u ƒë√£i ƒë·∫∑c bi·ªát
        </p>
        <div class="space-y-2">
          <div class="flex items-center space-x-2 text-sm text-gray-500">
            <!-- Mail -->
            <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M4 4h16v16H4z" />
              <path d="m22 6-10 7L2 6" />
            </svg>
            <span>support@yayootrip.com</span>
          </div>
          <div class="flex items-center space-x-2 text-sm text-gray-500">
            <!-- Phone -->
            <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path
                d="M22 16.92V21a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.63-3.07A19.5 19.5 0 0 1 3.07 12.81 19.86 19.86 0 0 1 0 4.18 2 2 0 0 1 2 2h4.09a2 2 0 0 1 2 1.72c.12.9.3 1.77.54 2.61a2 2 0 0 1-.45 2.11L7 9a16 16 0 0 0 8 8l.59-1.18a2 2 0 0 1 2.11-.45c.84.24 1.71.42 2.61.54A2 2 0 0 1 22 16.92z" />
            </svg>
            <span>1900 1234</span>
          </div>
        </div>
      </div>
    </div>

    <div class="border-t mt-8 pt-8 text-center text-sm text-gray-500">
      <p>&copy; 2024 YayooTrip - T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
    </div>
  </div>
</footer>