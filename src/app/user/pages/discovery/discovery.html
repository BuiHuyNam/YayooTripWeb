<section class="container mx-auto px-4 py-6">
<div class="space-y-6">
  <!-- Header -->
  <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
    <div>
      <h1 class="text-3xl font-bold text-foreground">{{ title }}</h1>
      <p class="text-muted-foreground">{{ subtitle }}</p>
    </div>
    <div class="flex items-center gap-2">
      <button type="button" (click)="setViewMode('list')" class="px-3 py-2 rounded-md text-sm border"
              [ngClass]="viewMode === 'list' ? 'bg-primary text-primary-foreground border-primary' : 'bg-background text-foreground border-muted-foreground/20'">
        Danh sách
      </button>
      <button type="button" (click)="setViewMode('map')" class="px-3 py-2 rounded-md text-sm border"
              [ngClass]="viewMode === 'map' ? 'bg-primary text-primary-foreground border-primary' : 'bg-background text-foreground border-muted-foreground/20'">
        Bản đồ
      </button>
    </div>
  </div>

  <!-- Search & Filters -->
  <div class="rounded-xl border bg-background shadow-sm">
    <div class="p-4">
      <div class="flex flex-col md:flex-row gap-4">
        <!-- Search -->
        <div class="flex-1">
          <div class="relative">
            <svg class="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle cx="11" cy="11" r="8" stroke-width="2"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65" stroke-width="2"></line>
            </svg>
            <input
              type="text"
              class="w-full pl-10 pr-3 py-2 rounded-md border bg-background"
              placeholder="Tìm kiếm địa điểm, nhà hàng, khách sạn..."
              [ngModel]="searchQuery"
              (ngModelChange)="searchQueryChange.emit($event)"
            />
          </div>
        </div>

        <!-- Category -->
        <div class="w-full md:w-48">
          <select
            class="w-full px-3 py-2 rounded-md border bg-background"
            [ngModel]="selectedCategory"
            (ngModelChange)="selectedCategoryChange.emit($event)"
          >
            <option value="all">Loại địa điểm</option>
            <option *ngFor="let c of categories" [value]="c.id">{{ c.name }}</option>
          </select>
        </div>

        <!-- Price Range -->
        <div class="w-full md:w-48">
          <select
            class="w-full px-3 py-2 rounded-md border bg-background"
            [ngModel]="selectedPriceRange"
            (ngModelChange)="selectedPriceRangeChange.emit($event)"
          >
            <option value="all">Mức giá</option>
            <option *ngFor="let r of priceRanges" [value]="r.id">{{ r.name }}</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <!-- Results header -->
  <div class="flex items-center justify-between">
    <p class="text-muted-foreground">Tìm thấy {{ resultsCount }} địa điểm</p>

    <!-- <div class="flex flex-wrap gap-2">
      <button *ngIf="selectedCategory !== 'all'" type="button" (click)="clearCategory()"
              class="px-2 py-1 rounded-md text-sm bg-muted hover:bg-muted/80">
        {{ categories.find(c => c.id === selectedCategory)?.name }} <span class="ml-1">×</span>
      </button>

      <button *ngIf="selectedPriceRange !== 'all'" type="button" (click)="clearPrice()"
              class="px-2 py-1 rounded-md text-sm bg-muted hover:bg-muted/80">
        {{ priceRanges.find(r => r.id === selectedPriceRange)?.name }} <span class="ml-1">×</span>
      </button>
    </div> -->
  </div>
</div>
<!-- hoặc danh sách -->
<!-- <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  <app-location-card
    *ngFor="let loc of locations"
    [location]="loc"
    (select)="onSelect(loc)">
  </app-location-card>
</div> -->
<!-- Danh sách -->
  <div *ngIf="viewMode === 'list'" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <app-location-card
      *ngFor="let loc of locations"
      [location]="loc"
      (select)="onSelect(loc)">
    </app-location-card>
  </div>

<!-- Bản đồ -->
<div *ngIf="viewMode === 'map'" class="mt-6">
 <app-location-map
  [locations]="locations"
  (locationSelected)="onSelect($event)">
</app-location-map>
</div>

</section>
